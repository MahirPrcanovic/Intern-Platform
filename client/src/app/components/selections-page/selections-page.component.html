<app-dashboard-header></app-dashboard-header>
<div class="container">
  <h1 class="f4 text-center mt-5">Welcome to Dashboard!</h1>
  <h1 class="f4 text-center">Selections</h1>
  <form #form="ngForm" (ngSubmit)="formSubmit(form)">
    <div class="row mb-3">
      <div class="col">
        <label for="">Sort By</label>
        <!-- <label class="mb-2">Sort by</label> -->
        <select class="form-control" name="sort" ngModel>
          <!-- <option value="sortBy">Sort By</option> -->
          <option value="desc">desc</option>
          <option value="asc">asc</option>
        </select>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label for="">Filter By</label>
        <select class="form-control" name="filterBy" ngModel>
          <!-- <option value="filterBy" selected>Filter By</option> -->
          <option value="name">Name</option>
        </select>
      </div>
      <div class="col mb-2">
        <label for=""></label>
        <input
          type="text"
          class="form-control"
          name="filterBy"
          ngModel
          placeholder="filter...."
        />
      </div>
    </div>
    <button
      class="btn btn-primary col-2 align-items-center justify-content-center"
      type="submit"
    >
      Find
    </button>
    
    <button
    class="btn btn-primary col-2 align-items-center justify-content-center"
    type="submit"
  >
    Add new selection
  </button>
  </form>
  <div class="table-responsive">
    <table class="table align-middle mb-0 bg-white mt-6 table-bordered">
      <thead class="bg-light">
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Description</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let selekcija of data; let x = index">
          <td>{{ x + 1 }}</td>
          <td>
            <div class="d-flex align-items-center">
              <div class="ms-3">
                <p class="fw-bold mb-1">
                  {{ selekcija.name }}
                </p>
              </div>              
            </div>
          </td>
          <div>
            <td> <p class="fw-normal mb-1">{{ selekcija.startDate }}</p></td>
          </div>
          <td>
            <p class="fw-normal mb-1">{{ selekcija.endDate }}</p>
       
          </td>
          <td>
            <p class="fw-normal mb-1">{{ selekcija.description }}</p>
            
          </td>
          
          <td>
            <button
              type="button"
              class="btn btn-link btn-rounded btn-sm fw-bold"
              mdbRipple
              rippleColor="dark"
              click="onEditClicked(selekcija.id)"
             
            >
              Edit
            </button>
            <button
            type="button"
            class="btn btn-link btn-rounded btn-sm fw-bold"
            mdbRipple
            rippleColor="dark"
            [routerLink]="['/selections', 'edit', selekcija.id]"   
          >
          <!-- //api/Selections/GetSelectionsById gadja tu rutu plus parametar  u routerlink link za page for details
            u kome ce bit opsirni podaci selekcije kao i lista aplikanata i tu ce biti button delete aplikant from selection
            sa rutom koju gadja api/Selections/DeleteApplicant/selectionId kao paramtar /applicantId isto kao parametar
             nisam napravila jos-->
            Details
            </button>

            <button
            type="button"
            class="btn btn-link btn-rounded btn-sm fw-bold"
            mdbRipple
            rippleColor="dark"
            [routerLink]="['/selections', 'edit', selekcija.id]"   
          >
          <!-- api/Selections/AddNewApplicantToSelection/selectionIdparametar/applicantIdparametar' \-->
            Add new Applicant
            </button>
          </td>
        </tr>

        <tr>
          <td colspan="6">
            <nav aria-label="Page navigation example">
              <ul class="pagination justify-content-center">
                <li class="page-item">
                  <button class="page-link btn-link" (click)="goToPreviousPage()">
                    Previous
                  </button>
                </li>
                <li
                  class="page-item"
                  *ngFor="
                    let dummy of ' '.repeat(pagesNumber).split('');
                    let x = index
                  "
                >
                  <a
                    class="page-link"
                    href="#"
                    [queryParams]="getParams(x + 1)"
                    routerLink="/selections"
                    >{{ x + 1 }}</a
                  >
                </li>

                <li class="page-item">
                  <button class="page-link btn-link" (click)="goNextPage()">
                    Next
                  </button>
                </li>
              </ul>
            </nav>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
